# Contributor: Tommy Buado <tommy@thinkpad.local>
# Maintainer: Tommy Buado <tommy@thinkpad.local>
pkgname=st
pkgver=0.9.2
pkgrel=0
pkgdesc="A simple terminal emulator for X"
url="https://st.suckless.org"
arch="all"
license="MIT"
depends="ncurses-terminfo-base font-liberation"
makedepends="fontconfig-dev freetype-dev libx11-dev libxext-dev libxft-dev"
subpackages="$pkgname-doc $pkgname-dbg"
options="!check" # no test suite
source="https://dl.suckless.org/st/st-$pkgver.tar.gz st.desktop"

provides="st-virtual"
provider_priority=100

prepare() {
	default_prepare
	sed -i "/tic/d" Makefile
}

build() {
	make
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" install
	install -Dm644 "$srcdir"/st.desktop \
		-t "$pkgdir"/usr/share/applications/
}

sha512sums="
1ca484227189d9e92ffc1092183fdc6a162da8bb41b9c18df662212d49a9551a84c3c87784ae16f2294105776b9d58983f29396bc681e367b761610bd7071b61  st-0.9.2.tar.gz
ec2a6fcb16147f533a12f7da2718cddaf4382fd7efbb6c296079ace6baf95a827e441a04d50296ab293228cbfd403d09614e8328a98adec9760915c4f52b3095  st.desktop
"
